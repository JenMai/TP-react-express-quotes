{"ast":null,"code":"import _defineProperty from \"/local/jennifer.maillot/Boussemart/Quotes/React-quotations-local/React-quotations-local/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/local/jennifer.maillot/Boussemart/Quotes/React-quotations-local/React-quotations-local/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/local/jennifer.maillot/Boussemart/Quotes/React-quotations-local/React-quotations-local/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/local/jennifer.maillot/Boussemart/Quotes/React-quotations-local/React-quotations-local/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/local/jennifer.maillot/Boussemart/Quotes/React-quotations-local/React-quotations-local/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/local/jennifer.maillot/Boussemart/Quotes/React-quotations-local/React-quotations-local/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/local/jennifer.maillot/Boussemart/Quotes/React-quotations-local/React-quotations-local/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/local/jennifer.maillot/Boussemart/Quotes/React-quotations-local/React-quotations-local/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/local/jennifer.maillot/Boussemart/Quotes/React-quotations-local/React-quotations-local/client/src/App.js\";\nimport React, { Component } from 'react';\n\nvar axios = require('axios');\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      quotes: [],\n      newMessage: \"\",\n      newAuthor: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var quotes;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get('http://localhost:8081/quotes');\n\n              case 2:\n                quotes = _context.sent.data;\n                this.setState({\n                  quotes: quotes\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"insertQuote\",\n    value: function () {\n      var _insertQuote = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(quote) {\n        var quotes;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.post('http://localhost:8081/quote');\n\n              case 2:\n                quotes = _context2.sent.data;\n                this.setState({\n                  quotes: quotes\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function insertQuote(_x) {\n        return _insertQuote.apply(this, arguments);\n      }\n\n      return insertQuote;\n    }()\n  }, {\n    key: \"removeQuote\",\n    value: function () {\n      var _removeQuote = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(index) {\n        var quotes;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.delete('http://localhost:8081/quote');\n\n              case 2:\n                quotes = _context3.sent.data;\n                this.setState({\n                  quotes: quotes\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function removeQuote(_x2) {\n        return _removeQuote.apply(this, arguments);\n      }\n\n      return removeQuote;\n    }()\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      if (!this.state.newMessage) return;\n      this.setState({\n        quotes: this.state.quotes.concat({\n          message: this.state.newMessage,\n          author: this.state.newAuthor === \"\" ? \"anonymous\" : this.state.newAuthor\n        })\n      });\n    }\n  }, {\n    key: \"handleNewQuote\",\n    value: function handleNewQuote(e) {\n      this.setState(_defineProperty({}, e.target.id, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.state.quotes) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"loading data....\");\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.state.quotes.map(function (q) {\n        return React.createElement(Quotation, Object.assign({\n          key: q._id\n        }, q, {\n          removeQuote: function removeQuote() {\n            return _this2.removeQuote(q._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }));\n      })), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(Form, {\n        handleSubmit: function handleSubmit(e) {\n          return _this2.handleSubmit(e);\n        },\n        handleNewQuote: function handleNewQuote(e) {\n          return _this2.handleNewQuote(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar Quotation =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Quotation, _React$Component);\n\n  function Quotation() {\n    _classCallCheck(this, Quotation);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Quotation).apply(this, arguments));\n  }\n\n  _createClass(Quotation, [{\n    key: \"render\",\n    value: function render() {\n      var styleMessage = {\n        color: 'red'\n      },\n          styleAuthor = {\n        color: 'green'\n      };\n      return React.createElement(\"li\", {\n        onClick: this.props.removeQuote,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: styleMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \" \", this.props.message, \" \"), React.createElement(\"span\", {\n        style: styleAuthor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \" (\", this.props.author, \")\"));\n    }\n  }]);\n\n  return Quotation;\n}(React.Component);\n\nvar Form =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(Form, _React$Component2);\n\n  function Form() {\n    _classCallCheck(this, Form);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Form).apply(this, arguments));\n  }\n\n  _createClass(Form, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"form\", {\n        onSubmit: this.props.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"newMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"new quote\"), React.createElement(\"textarea\", {\n        id: \"newMessage\",\n        placeholder: \"enter your message\",\n        onChange: this.props.handleNewQuote,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"newAuthor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"author\"), React.createElement(\"input\", {\n        id: \"newAuthor\",\n        placeholder: \"author name\",\n        onChange: this.props.handleNewQuote,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"OK\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Form;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/local/jennifer.maillot/Boussemart/Quotes/React-quotations-local/React-quotations-local/client/src/App.js"],"names":["React","Component","axios","require","App","props","state","quotes","newMessage","newAuthor","get","data","setState","quote","post","index","delete","e","preventDefault","concat","message","author","target","id","value","map","q","_id","removeQuote","handleSubmit","handleNewQuote","Quotation","styleMessage","color","styleAuthor","Form"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n\nconst axios = require('axios')\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            quotes: [],\n            newMessage: \"\",\n            newAuthor: \"\",\n        };\n    }\n\n    async componentDidMount(){\n        const quotes = (await axios.get('http://localhost:8081/quotes')).data;\n        this.setState({\n            quotes\n        });\n    }\n\n    async insertQuote(quote){\n        const quotes = (await axios.post('http://localhost:8081/quote')).data;\n        this.setState({\n            quotes\n        });\n    }\n\n    async removeQuote(index) {\n        const quotes = (await axios.delete('http://localhost:8081/quote')).data;\n        this.setState({\n            quotes\n        });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        if (!this.state.newMessage) return;\n        this.setState({\n            quotes: this.state.quotes.concat({\n                message: this.state.newMessage,\n                author: this.state.newAuthor === \"\" ? \"anonymous\" : this.state.newAuthor\n            })\n        })\n    }\n\n    handleNewQuote(e) {\n        this.setState({[e.target.id]: e.target.value});\n    }\n\n    render() {\n        if (!this.state.quotes) {\n            return (<p>loading data....</p>)\n        }\n        return (\n            <div>\n                <ul>\n                    {this.state.quotes.map(q => <Quotation key={q._id} {...q} removeQuote= {()=>this.removeQuote(q._id)}/>)}\n                </ul>\n                <hr/>\n                <Form handleSubmit={e => this.handleSubmit(e)} handleNewQuote={e => this.handleNewQuote(e)}/>\n            </div>\n        )\n    }\n}\n\nclass Quotation extends React.Component {\n    render() {\n        const styleMessage = {color: 'red'}, styleAuthor = {color: 'green'};\n        return (\n            <li onClick={this.props.removeQuote}>\n                <span style={styleMessage}> {this.props.message} </span>\n                <span style={styleAuthor}> ({this.props.author})</span>\n            </li>\n        );\n    }\n}\n\nclass Form extends React.Component {\n    render() {\n        return (\n            <form onSubmit={this.props.handleSubmit}>\n                <label htmlFor=\"newMessage\">new quote</label>\n                <textarea id=\"newMessage\" placeholder=\"enter your message\"\n                          onChange={this.props.handleNewQuote}/>\n                <br/>\n                <label htmlFor=\"newAuthor\">author</label>\n                <input id=\"newAuthor\" placeholder=\"author name\"\n                       onChange={this.props.handleNewQuote}/>\n                <input type=\"submit\" value=\"OK\"/>\n            </form>\n        )\n    }\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}